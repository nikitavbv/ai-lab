syntax = "proto3";

package ml_sandbox;

service MLSandboxService {
    rpc RunSimpleModel(RunSimpleModelRequest) returns (RunSimpleModelResponse) {}
    rpc TrainSimpleModel(TrainSimpleModelRequest) returns (TrainSimpleModelResponse) {}

    rpc RunImageGenerationModel(RunImageGenerationModelRequest) returns (RunImageGenerationModelResponse) {}
    rpc RunTextGenerationModel(InferenceRequest) returns (RunTextGenerationModelResponse) {}
}

message RunSimpleModelRequest {
    bytes image = 1;
}

message RunSimpleModelResponse {
}

message TrainSimpleModelRequest {
}

message TrainSimpleModelResponse {
}

message RunImageGenerationModelRequest {
    string prompt = 1;
}

message RunImageGenerationModelResponse {
    bytes image = 1;
}

message InferenceRequest {
    repeated DataEntry entries = 1;
}

message DataEntry {
    string key = 1;

    oneof value {
        string text = 2;
    }
}

message RunTextGenerationModelResponse {
    string text = 1;
}